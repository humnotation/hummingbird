<!doctype html>
<html>
    <head>
        <title>Hummingbird Mocha Tests</title>
        <link rel="stylesheet" href="../js/libs/mocha/mocha.css" type="text/css" charset="utf-8" />
    </head>
    <body>
        <div id="mocha"></div>

        <script src="../js/libs/mocha/mocha.js"></script>

        <script src="../js/libs/requirejs/require.js"></script>
        <script src="../js/requireJsConfig.js"></script>
        <script>
            requirejs.config(
            {
                baseUrl: '../js'
            });

            requirejs(
            [
                "lodash",
                "chai",
                "sinon",
                "sinon-chai",
                "jquery"
            ],
            function(
                _,
                chai,
                sinon,
                sinonChai,
                $
            )
            {
                $.fx.off = true;

                mocha.setup("bdd");
                mocha.timeout(5000);

                chai.use(sinonChai);

                window.expect = chai.expect;
          
                requirejs(
                [
                    "../tests/parser/noteProcessor.spec",
                    "../tests/parser/measureProcessor.spec",
                    "../tests/parser/creditProcessor.spec",
                    "../tests/parser/scoreProcessor.spec",
                    "../tests/parser/xmlParser.spec"
                ],
                function()
                {
                    mocha.run();
                });

            });
        </script>
    </body>
</html>
